"use strict";(self.webpackChunkzjiaahui_github_io_source=self.webpackChunkzjiaahui_github_io_source||[]).push([[4652],{3905:function(e,n,s){s.d(n,{Zo:function(){return p},kt:function(){return m}});var t=s(7294);function r(e,n,s){return n in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s,e}function o(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),s.push.apply(s,t)}return s}function l(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?o(Object(s),!0).forEach((function(n){r(e,n,s[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))}))}return e}function a(e,n){if(null==e)return{};var s,t,r=function(e,n){if(null==e)return{};var s,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)s=o[t],n.indexOf(s)>=0||(r[s]=e[s]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)s=o[t],n.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}var i=t.createContext({}),c=function(e){var n=t.useContext(i),s=n;return e&&(s="function"==typeof e?e(n):l(l({},n),e)),s},p=function(e){var n=c(e.components);return t.createElement(i.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var s=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),d=c(s),m=r,g=d["".concat(i,".").concat(m)]||d[m]||u[m]||o;return s?t.createElement(g,l(l({ref:n},p),{},{components:s})):t.createElement(g,l({ref:n},p))}));function m(e,n){var s=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=s.length,l=new Array(o);l[0]=d;var a={};for(var i in n)hasOwnProperty.call(n,i)&&(a[i]=n[i]);a.originalType=e,a.mdxType="string"==typeof e?e:r,l[1]=a;for(var c=2;c<o;c++)l[c]=s[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,s)}d.displayName="MDXCreateElement"},3771:function(e,n,s){s.r(n),s.d(n,{frontMatter:function(){return a},contentTitle:function(){return i},metadata:function(){return c},toc:function(){return p},Hl:function(){return u},Tbc:function(){return d},default:function(){return g}});var t=s(7462),r=s(3366),o=(s(7294),s(3905)),l=["components"],a={id:"webpack-config-prod",title:"\u751f\u4ea7\u73af\u5883\u914d\u7f6e",slug:"./webpack-config-prod.html"},i=void 0,c={unversionedId:"notes/notes_webpack/webpack-config-prod",id:"notes/notes_webpack/webpack-config-prod",isDocsHomePage:!1,title:"\u751f\u4ea7\u73af\u5883\u914d\u7f6e",description:"backgroundColor: color,",source:"@site/docs/notes/notes_webpack/04-webpack-config-prod.md",sourceDirName:"notes/notes_webpack",slug:"/notes/notes_webpack/webpack-config-prod.html",permalink:"/docs/notes/notes_webpack/webpack-config-prod.html",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"webpack-config-prod",title:"\u751f\u4ea7\u73af\u5883\u914d\u7f6e",slug:"./webpack-config-prod.html"},sidebar:"notes",previous:{title:"\u5f00\u53d1\u73af\u5883\u914d\u7f6e",permalink:"/docs/notes/notes_webpack/webpack-config-dev.html"},next:{title:"\u57fa\u672c\u4f7f\u7528",permalink:"/docs/notes/wx/wx.html"}},p=[{value:"1\u3001CSS\u6837\u5f0f\u6587\u4ef6\u5904\u7406",id:"1\u3001css\u6837\u5f0f\u6587\u4ef6\u5904\u7406",children:[{value:"1.1\u3001\u63d0\u53d6CSS\u6837\u5f0f\u6210\u5355\u72ec\u6587\u4ef6",id:"11\u3001\u63d0\u53d6css\u6837\u5f0f\u6210\u5355\u72ec\u6587\u4ef6",children:[]},{value:"1.2\u3001CSS\u517c\u5bb9\u6027\u5904\u7406",id:"12\u3001css\u517c\u5bb9\u6027\u5904\u7406",children:[]},{value:"1.3\u3001\u538b\u7f29css",id:"13\u3001\u538b\u7f29css",children:[]}]},{value:"2\u3001JS\u5904\u7406",id:"2\u3001js\u5904\u7406",children:[{value:"2.1\u3001js\u8bed\u6cd5\u68c0\u67e5eslint-loader",id:"21\u3001js\u8bed\u6cd5\u68c0\u67e5eslint-loader",children:[]},{value:"2.2\u3001js\u517c\u5bb9\u6027\u5904\u7406",id:"22\u3001js\u517c\u5bb9\u6027\u5904\u7406",children:[]},{value:"2.3\u3001js\u538b\u7f29",id:"23\u3001js\u538b\u7f29",children:[]}]},{value:"3\u3001\u751f\u6210\u73af\u5883\u57fa\u672c\u914d\u7f6e",id:"3\u3001\u751f\u6210\u73af\u5883\u57fa\u672c\u914d\u7f6e",children:[]}],u=function(e){var n=e.children,s=e.color;return(0,o.kt)("span",{style:{backgroundColor:s,borderRadius:"2px",color:"#fff",padding:"0.2rem",margin:"0.2rem"}},n)},d=function(e){var n=e.children,s=e.color;return(0,o.kt)("span",{style:{color:s,fontWeight:700,borderRadius:"2px",padding:"0.2rem",margin:"0.2rem"}},n)},m={toc:p,Hl:u,Tbc:d};function g(e){var n=e.components,s=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,t.Z)({},m,s,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"1\u3001css\u6837\u5f0f\u6587\u4ef6\u5904\u7406"},"1\u3001CSS\u6837\u5f0f\u6587\u4ef6\u5904\u7406"),(0,o.kt)("h3",{id:"11\u3001\u63d0\u53d6css\u6837\u5f0f\u6210\u5355\u72ec\u6587\u4ef6"},"1.1\u3001\u63d0\u53d6CSS\u6837\u5f0f\u6210\u5355\u72ec\u6587\u4ef6"),(0,o.kt)("blockquote",null,(0,o.kt)(u,{color:"red",mdxType:"Hl"},"\u6ce8\u610f"),"\u5728\u5f00\u53d1\u73af\u5883\u914d\u7f6e\u4e2d\u6211\u4eec\u5bf9css\u7684\u5904\u7406\u662f\u901a\u8fc7css-loader\u548cstyle-loader\u5c06css\u6dfb\u52a0\u8f93\u51fa\u7684js\u6587\u4ef6\u4e2d\u662f\u548cjs\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7684\uff0c\u8fd9\u6837\u4f1a\u5bfc\u81f4\u52a0\u8f7d\u7684\u65f6\u5019\u56e0\u4e3a\u6587\u4ef6\u8fc7\u5927\u800c\u7f13\u6162\uff0c\u5c4a\u65f6dome\u5df2\u7ecf\u6e32\u67d3\u4e86\u8fd8\u6709\u52a0\u8f7d\u5230css\u6837\u5f0f\u7684\u8bdd\uff0c\u6d4f\u89c8\u5668\u4f1a\u5148\u52a0\u8f7d\u9ed8\u8ba4\u7684\u6837\u5f0f\uff0c\u800c\u540e\u52a0\u8f7d\u5b8c\u53c8\u4f1a\u91cd\u65b0\u5e94\u7528css\u6587\u4ef6\u4e2d\u7684\u6837\u5f0f\uff0c\u8fd9\u6837\u4f1a\u9020\u6210\u5185\u5bb9\u95ea\u70c1."),(0,o.kt)("p",null,"\u56e0\u6b64\u6211\u4eec\u8981\u6784\u5efa\u751f\u4ea7\u73af\u5883\u7684\u8bdd\u5c31\u5355\u72ec\u63d0\u53d6\u51facss\u6837\u5f0f"),(0,o.kt)("h4",{id:"111\u3001\u5b89\u88c5mini-css-extract-plugin"},"1.1.1\u3001\u5b89\u88c5mini-css-extract-plugin"),(0,o.kt)("p",null,"\u5c06css\u6837\u5f0f\u4ecejs\u4e2d\u5206\u79bb\u9664\u4e86\u8981\u539f\u6709\u7684css-loader\u548c",(0,o.kt)("inlineCode",{parentName:"p"},"mini-css-extract-plugin"),"\u7136\u540e\u4f7f\u7528MiniCssExtractPlugin.loader\u66ff\u6362style-loader\u8fbe\u5230\u5355\u72ec\u63d0\u53d6\u7684\u76ee\u7684\u800c\u4e0d\u662f\u901a\u8fc7style-loader\u5c06css\u521b\u5efastyle\u5b57\u7b26\u4e32\u6dfb\u52a0\u5230js\u6587\u4ef6\u4e2d"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm i --save-dev mini-css-extract-plugin\n")),(0,o.kt)("h4",{id:"112\u3001\u914d\u7f6e"},"1.1.2\u3001\u914d\u7f6e"),(0,o.kt)(u,{color:"#e768ab",mdxType:"Hl"},"webpack.prod.js"),"\u5982\u679c\u662f\u751f\u4ea7\u548c\u5f00\u53d1\u90fd\u9700\u8981\u7684\u914d\u7f6e\u5c31\u653e\u5728\u4e86webpack.common.js\u4e2d\u914d\u7f6e\u4e86",(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const MiniCssExtractPlugin=require("mini-css-extract-plugin")\nmodule.exports={\n    mode: \'production\',\n    //entry\u5728\u901a\u7528\u914d\u7f6e\u4e2d\u914d\u7f6e\uff08\u81ea\u5df1\u6839\u636e\u60c5\u51b5\u800c\u5b9a\uff09\n    //output\u5728\u901a\u7528\u914d\u7f6e\u4e2d\u914d\u7f6e\uff08\u81ea\u5df1\u6839\u636e\u60c5\u51b5\u800c\u5b9a\uff09\n    module:{\n        rules:[\n            {\n                test:/\\.css$/,\n                use:[\n                    //\u4f7f\u7528MiniCssExtractPlugin.loader\u53d6\u4ee3style-loader\n                    MiniCssExtractPlugin.loader,\n                    "cass-loader"\n                ]\n            }\n        ]\n    },\n    plugins:[\n        new MiniCssExtractPlugin(\n            //\u5bf9\u8f93\u51fa\u7684css\u6587\u4ef6\u6307\u5b9a\u8def\u5f84\u548c\u91cd\u547d\u540d\n            filename:"css/index.css"\n        )\n    ]\n\n}\n\n')),(0,o.kt)("h3",{id:"12\u3001css\u517c\u5bb9\u6027\u5904\u7406"},"1.2\u3001CSS\u517c\u5bb9\u6027\u5904\u7406"),(0,o.kt)("p",null,"CSS\u517c\u5bb9\u6027\u5904\u7406\u9700\u8981\u4f7f\u7528postcss\u5e93\uff0c\u90a3\u4e48\u6211\u4eec\u8981\u901a\u8fc7webpack\u5904\u7406\u5462\u5c31\u9700\u8981",(0,o.kt)("inlineCode",{parentName:"p"},"postcss-loader"),"\u548c",(0,o.kt)("inlineCode",{parentName:"p"},"postcss-preset-env")),(0,o.kt)("blockquote",null,(0,o.kt)(u,{color:"#ff6a00",mdxType:"Hl"},"postcss-preset-env"),(0,o.kt)("br",null)," \u5e2e\u52a9postcss\u627e\u5230package.json\u4e2dbrowserslist\u7684\u914d\u7f6e\uff0c\u901a\u8fc7\u8fd9\u4e2a\u914d\u7f6e\u52a0\u8f7d\u6307\u5b9a\u7684css\u517c\u5bb9\u6027\u6837\u5f0f",(0,o.kt)("br",null),(0,o.kt)("br",null),(0,o.kt)(u,{color:"#ff6a00",mdxType:"Hl"},"postcss-loader"),(0,o.kt)("br",null)," \u6839\u636epostcss-preset-env\u627e\u5230\u7684browserslist\u517c\u5bb9\u6027\u914d\u7f6e\u751f\u6210\u76f8\u5e94\u7684\u517c\u5bb9\u6027\u6837\u5f0f"),(0,o.kt)(u,{color:"red",mdxType:"Hl"},"\u6ce8\u610f"),' postcss-preset-env\u9ed8\u8ba4\u662f\u627e\u5230package.json\u4e2dbrowserslist\u7684\u751f\u4ea7\u73af\u5883\u914d\u7f6e\u5982\u679c\u9700\u8981\u8f6c\u6362\u4e3a\u5f00\u53d1\u73af\u5883\u9700\u8981\u58f0\u660e process.env.NODE_ENV="development"',(0,o.kt)("h4",{id:"121\u3001\u4e0b\u8f7d\u5b89\u88c5"},"1.2.1\u3001\u4e0b\u8f7d\u5b89\u88c5"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm i --save-dev postcss-loader postcss-preset-env\n")),(0,o.kt)("h4",{id:"122\u3001\u914d\u7f6e"},"1.2.2\u3001\u914d\u7f6e"),(0,o.kt)(u,{color:"#e768ab",mdxType:"Hl"},"webpack.prod.js"),"\u5982\u679c\u662f\u751f\u4ea7\u548c\u5f00\u53d1\u90fd\u9700\u8981\u7684\u914d\u7f6e\u5c31\u653e\u5728\u4e86webpack.common.js\u4e2d\u914d\u7f6e\u4e86",(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const MiniCssExtractPlugin=require("mini-css-extract-plugin")\n//\u8bbe\u7f6enodejs\u73af\u5883\u53d8\u91cf\u4e3a\u5f00\u53d1\u73af\u5883\u53d8\u91cf \u9ed8\u8ba4\u662f\u751f\u4ea7\u73af\u5883\u53d8\u91cf\nprocess.env.NODE_ENV="development"\n\nmodule.exports={\n    mode: \'production\',\n    //entry\u5728\u901a\u7528\u914d\u7f6e\u4e2d\u914d\u7f6e\uff08\u81ea\u5df1\u6839\u636e\u60c5\u51b5\u800c\u5b9a\uff09\n    //output\u5728\u901a\u7528\u914d\u7f6e\u4e2d\u914d\u7f6e\uff08\u81ea\u5df1\u6839\u636e\u60c5\u51b5\u800c\u5b9a\uff09\n    module:{\n        rules:[\n            {\n                test:/\\.css$/,\n                use:[\n                    //\u4f7f\u7528MiniCssExtractPlugin.loader\u53d6\u4ee3style-loader\n                    MiniCssExtractPlugin.loader,\n                    "cass-loader",\n                    {\n                        loader:"postcss-loader",\n                        options:{\n                            ident:"postcss-loader",\n                            plugins:()=>{\n                                require("postcss-preset-env")()\n                                //\u5e2e\u52a9postcss\u627e\u5230package.json\u4e2dbrowserslist\u7684\u914d\u7f6e\uff0c\u901a\u8fc7\u8fd9\u4e2a\u914d\u7f6e\u52a0\u8f7d\u6307\u5b9a\u7684css\u517c\u5bb9\u6027\u6837\u5f0f\n                            }\n                        }\n                    }\n                ]\n            }\n        ]\n    },\n    plugins:[\n        new MiniCssExtractPlugin(\n            //\u5bf9\u8f93\u51fa\u7684css\u6587\u4ef6\u6307\u5b9a\u8def\u5f84\u548c\u91cd\u547d\u540d\n            filename:"css/index.css"\n        )\n    ]\n\n}\n\n')),(0,o.kt)(u,{color:"#e768ab",mdxType:"Hl"},"package.json"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"browserslist": {\n    "production": [\n      ">0.5%", //\u5927\u4e8e99.5%\u7684\u6d4f\u89c8\u5668\n      "not dead",//\u4e0d\u8981\u5df2\u6b7b\u6d4f\u89c8\u5668\n      "not op_mini all" //\u4e0d\u8981op_mini\u6d4f\u89c8\u5668\n    ],\n    "development": [\n      "last 1 chrome version", //\u517c\u5bb9\u6700\u8fd1\u7684\u4e00\u4e2achrome\n      "last 1 firefox version",//\u517c\u5bb9\u6700\u8fd1\u7684\u4e00\u4e2afirefox\n      "last 1 safari version"//\u517c\u5bb9\u6700\u8fd1\u7684\u4e00\u4e2asafari\n    ]\n  }\n')),(0,o.kt)("h3",{id:"13\u3001\u538b\u7f29css"},"1.3\u3001\u538b\u7f29css"),(0,o.kt)("h4",{id:"131\u3001\u5b89\u88c5\u63d2\u4ef6"},"1.3.1\u3001\u5b89\u88c5\u63d2\u4ef6"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --save-dev optimize-css-assets-webpack-plugin\n")),(0,o.kt)("h4",{id:"132\u3001\u6700\u57fa\u672c\u914d\u7f6e"},"1.3.2\u3001\u6700\u57fa\u672c\u914d\u7f6e"),(0,o.kt)(u,{color:"#e768ab",mdxType:"Hl"},"webpack.prod.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-diff"},'  const MiniCssExtractPlugin=require("mini-css-extract-plugin")\n+ const OptimizeCssAssetsPlugin = require(\'optimize-css-assets-webpack-plugin\');\n  module.exports={\n      mode: \'production\',\n      //entry\u5728\u901a\u7528\u914d\u7f6e\u4e2d\u914d\u7f6e\uff08\u81ea\u5df1\u6839\u636e\u60c5\u51b5\u800c\u5b9a\uff09\n      //output\u5728\u901a\u7528\u914d\u7f6e\u4e2d\u914d\u7f6e\uff08\u81ea\u5df1\u6839\u636e\u60c5\u51b5\u800c\u5b9a\uff09\n      module:{\n          rules:[\n              {\n                  test:/\\.css$/,\n                  use:[\n                      //\u4f7f\u7528MiniCssExtractPlugin.loader\u53d6\u4ee3style-loader\n                      MiniCssExtractPlugin.loader,\n                      "cass-loader",\n                      {\n                          loader:"postcss-loader",\n                          options:{\n                              ident:"postcss-loader",\n                              plugins:()=>{\n                                  require("postcss-preset-env")()\n                                  //\u5e2e\u52a9postcss\u627e\u5230package.json\u4e2dbrowserslist\u7684\u914d\u7f6e\uff0c\u901a\u8fc7\u8fd9\u4e2a\u914d\u7f6e\u52a0\u8f7d\u6307\u5b9a\u7684css\u517c  \u5bb9\u6027\u6837\u5f0f\n                              }\n                          }\n                      }\n                  ]\n              }\n          ]\n      },\n      plugins:[\n          new MiniCssExtractPlugin(\n              //\u5bf9\u8f93\u51fa\u7684css\u6587\u4ef6\u6307\u5b9a\u8def\u5f84\u548c\u91cd\u547d\u540d\n              filename:"css/index.css"\n          ),\n+         new OptimizeCssAssetsPlugin()\n      ]\n  \n  }\n  \n')),(0,o.kt)("h2",{id:"2\u3001js\u5904\u7406"},"2\u3001JS\u5904\u7406"),(0,o.kt)("h3",{id:"21\u3001js\u8bed\u6cd5\u68c0\u67e5eslint-loader"},"2.1\u3001js\u8bed\u6cd5\u68c0\u67e5eslint-loader"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm i --save-dev eslint-loader eslint\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm i --save-dev eslint-config-airbnb-base eslint-plugin-import\n")),(0,o.kt)(u,{color:"#e768ab",mdxType:"Hl"},"package.json"),"\u914d\u7f6eeslintConfig",(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"eslintConfig":{\n    "extends":"airbnb-base"\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'module:{\n    rules:[\n        {\n            test:/\\.js$/,\n            exclude:/node_modules/,//\u7b2c\u4e09\u65b9\u5e93\u9664\u5916\n            loader:"eslint-loader", \n            options:{\n                fix:true\n            }\n        }\n    ]\n}\n')),(0,o.kt)("h3",{id:"22\u3001js\u517c\u5bb9\u6027\u5904\u7406"},"2.2\u3001js\u517c\u5bb9\u6027\u5904\u7406"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm i --save-dev babel-loader @babel/core @babel/preset-env core-js\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'module:{\n    rules:[\n        {\n            test:/\\.js$/,\n            exclude:/node_modules/,//\u7b2c\u4e09\u65b9\u5e93\u9664\u5916\n            loader:"babel-loader", \n            options:{\n                presets:[\n                    [\n                        \'@babel/preset-env\',\n                        {\n                            useBuiltIns:"usage",\n                            corejs:{\n                                version:3\n                                },\n                            trrgets:{\n                                chrome:"60",\n                                ie:"9"\n                                }\n                        }\n                    ]\n                ]\n            }\n        }\n    ]\n}\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u5c06\u6709\u517c\u5bb9\u95ee\u9898\u7684\u4ee3\u7801\u5168\u90e8\u8f6c\u6362")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm i --save-dev @babel/polyfill\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'\u5728\u8981\u5168\u90e8\u8f6c\u6362\u7684\u9875\u9762\u5f15\u5165\u5373\u53ef\nimport "@babel/polyfill"\n')),(0,o.kt)("h3",{id:"23\u3001js\u538b\u7f29"},"2.3\u3001js\u538b\u7f29"),(0,o.kt)("p",null,'\u5c06mode:"production"\u5c31\u4f1a\u6267\u884c\u9ed8\u8ba4\u7684\u538b\u7f29'),(0,o.kt)("h2",{id:"3\u3001\u751f\u6210\u73af\u5883\u57fa\u672c\u914d\u7f6e"},"3\u3001\u751f\u6210\u73af\u5883\u57fa\u672c\u914d\u7f6e"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},'const {resolve}=require(\'path\')\nconst MiniCssExtractPlugin=require("mini-css-extract-plugin")\nconst OptimizeCssAssetsPlugin = require(\'optimize-css-assets-webpack-plugin\');\nmodule.exports={\n    mode:"production",\n    entry:"/src/index.js",\n    output:{\n        filename:"js/index.js",\n        path:resolve(__dirname,"dist")\n    },\n    module:{\n        rules:[\n            {\n            test:/\\.css$/,\n            use:[\n                 MiniCssExtractPlugin.loader,\n                "css-loader",\n                 {\n                        loader:"postcss-loader",\n                        options:{\n                            ident:"postcss-loader",\n                            plugins:()=>{\n                                require("postcss-preset-env")()\n                                //\u5e2e\u52a9postcss\u627e\u5230package.json\u4e2dbrowserslist\u7684\u914d\u7f6e\uff0c\u901a\u8fc7\u8fd9\u4e2a\u914d\u7f6e\u52a0\u8f7d\u6307\u5b9a\u7684css\u517c\u5bb9\u6027\u6837\u5f0f,package.json\u4e2d\u8981\u914d\u7f6e\u597dbrowserslist\n                            }\n                        }\n                    }\n                ]\n            }\n            {\n            test:/\\.less$/,\n            use:[\n                 MiniCssExtractPlugin.loader,\n                "css-loader",\n                {\n                        loader:"postcss-loader",\n                        options:{\n                            ident:"postcss-loader",\n                            plugins:()=>{\n                                require("postcss-preset-env")()\n                                //\u5e2e\u52a9postcss\u627e\u5230package.json\u4e2dbrowserslist\u7684\u914d\u7f6e\uff0c\u901a\u8fc7\u8fd9\u4e2a\u914d\u7f6e\u52a0\u8f7d\u6307\u5b9a\u7684css\u517c\u5bb9\u6027\u6837\u5f0f,package.json\u4e2d\u8981\u914d\u7f6e\u597dbrowserslist\n                            }\n                        }\n                    }\n                "less-loader"\n                ]\n            },\n             {\n            test:/\\.js$/,\n            exclude:/node_modules/,//\u7b2c\u4e09\u65b9\u5e93\u9664\u5916\n            loader:"babel-loader", \n            options:{\n                presets:[\n                    [\n                        \'@babel/preset-env\',\n                        {\n                            useBuiltIns:"usage",\n                            corejs:{\n                                version:3\n                                },\n                            trrgets:{\n                                chrome:"60",\n                                ie:"9"\n                                }\n                        }\n                    ]\n                ]\n            }\n        }\n\n        ]\n    },\n    plugins:[\n        new MiniCssExtractPlugin({\n            filename:"css/index.css"\n        }),\n         new OptimizeCssAssetsPlugin()\n    ]\n\n}\n')))}g.isMDXComponent=!0}}]);