(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{120:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return o})),t.d(n,"default",(function(){return u}));var i=t(3),a=t(7),r=(t(0),t(223)),c={slug:"VueCLI4_tinymce5",title:"Vue CLI 4 + tinymce 5 \u5bcc\u6587\u672c\u7f16\u8f91\u5668\u6574\u5408",author:"zjiaahui",author_title:"\u81ea\u5b66web\u524d\u7aef\u7684\u5c0f\u767d",author_url:"https://github.com/zjiaahui",author_image_url:"https://avatars.githubusercontent.com/u/54567123?s=60&v=4",description:"Vue CLI 4 + tinymce 5 \u5bcc\u6587\u672c\u7f16\u8f91\u5668\u6574\u5408",tags:["TinyMCE5","Vue","Vue CLI 4"]},l={permalink:"/blog/VueCLI4_tinymce5",source:"@site/blog\\2021-03-12-Vue CLI 4+tinymce 5\u5bcc\u6587\u672c\u7f16\u8f91\u5668\u6574\u5408.md",description:"Vue CLI 4 + tinymce 5 \u5bcc\u6587\u672c\u7f16\u8f91\u5668\u6574\u5408",date:"2021-03-12T00:00:00.000Z",tags:[{label:"TinyMCE5",permalink:"/blog/tags/tiny-mce-5"},{label:"Vue",permalink:"/blog/tags/vue"},{label:"Vue CLI 4",permalink:"/blog/tags/vue-cli-4"}],title:"Vue CLI 4 + tinymce 5 \u5bcc\u6587\u672c\u7f16\u8f91\u5668\u6574\u5408",readingTime:2.015,truncated:!0,prevItem:{title:"vue cli3.0 vue.config.js \u914d\u7f6e\u8de8\u57df",permalink:"/blog/vue-ky"},nextItem:{title:"TinyMCE\u5728Vue element\u7684dialog\u88ab\u906e\u6321\u7684\u95ee\u9898\u89e3\u51b3\u529e\u6cd5",permalink:"/blog/TinyMCE-Vue-dialog"}},o=[{value:"\u63d2\u4ef6\u5b89\u88c5",id:"\u63d2\u4ef6\u5b89\u88c5",children:[]}],s={toc:o};function u(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(r.b)("wrapper",Object(i.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",{parentName:"div",className:"admonition-heading"},Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",{parentName:"h5",className:"admonition-icon"},Object(r.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(r.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"\u6458\u8981")),Object(r.b)("div",{parentName:"div",className:"admonition-content"},Object(r.b)("p",{parentName:"div"},"\u57fa\u4e8eVue CLI 4\u811a\u624b\u67b6\u642d\u5efa\u7684\u9879\u76ee\u6574\u5408tinymce 5\u5bcc\u6587\u672c\u7f16\u8f91\u5668"))),Object(r.b)("h2",{id:"\u63d2\u4ef6\u5b89\u88c5"},"\u63d2\u4ef6\u5b89\u88c5"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\u5982\u679c\u6709\u6ce8\u518c\u6216\u8d2d\u4e70\u8fc7\u670d\u52a1\u7684\u8bdd\uff0c\u76f4\u63a5\u901a\u8fc7\u7ec4\u4ef6\u914d\u7f6eapi-key\u76f4\u63a5\u4f7f\u7528\uff0c\u6ca1\u6709\u6ce8\u518c\u6216\u8005\u8d2d\u4e70\u7684\u76f4\u63a5\u4e0b\u8f7dtinymce\u4f7f\u7528")),Object(r.b)("h4",{id:"\u5b89\u88c5tinymce-vue"},"\u5b89\u88c5tinymce-vue"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"npm install @tinymce/tinymce-vue@3.2.0 -S\n\n")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"\u6ce8\u610f\u5982\u679c\u662f\u4f7f\u7528\u7684vue2.x\u8bf7\u4e0b\u8f7d",Object(r.b)("a",{parentName:"p",href:"mailto:tinymce-vue@4.0.0"},"tinymce-vue@4.0.0"),"\u4ee5\u4e0b\u7684\u7248\u672c\uff08",Object(r.b)("a",{parentName:"p",href:"mailto:tinymce-vue@4.0.0"},"tinymce-vue@4.0.0"),"\u4e13\u95e8\u4e3avue3\u63d0\u4f9b\u7684\uff09\u7248\u672c\u4e0d\u5bf9\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528")),Object(r.b)("h4",{id:"\u5b89\u88c5tinymce"},"\u5b89\u88c5tinymce"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"npm install tinymce -S\n\n")),Object(r.b)("h4",{id:"\u4e0b\u8f7d\u4e2d\u6587\u8bed\u8a00\u5305"},"\u4e0b\u8f7d\u4e2d\u6587\u8bed\u8a00\u5305"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"\u5b98\u7f51\u4e0b\u8f7d\u4e2d\u6587\u8bed\u8a00\u5305\uff08\u9ed8\u8ba4\u662f\u82f1\u6587\uff09\uff1a",Object(r.b)("a",{parentName:"li",href:"https://www.tiny.cloud/get-tiny/language-packages/"},"https://www.tiny.cloud/get-tiny/language-packages/"))),Object(r.b)("h4",{id:"\u5f00\u59cb\u4f7f\u7528"},"\u5f00\u59cb\u4f7f\u7528"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"1\u3001\u5728public\u76ee\u5f55\u4e0b\u65b0\u5efatinymce\uff0c\u5c06\u4e0a\u9762\u4e0b\u8f7d\u7684\u8bed\u8a00\u5305\u89e3\u538b\u540e\u5c06langs\u6587\u4ef6\u5939\u590d\u5236\u5230\u8be5\u76ee\u5f55"),Object(r.b)("li",{parentName:"ul"},"2\u3001\u5728node_modules\u91cc\u9762\u627e\u5230tinymce,\u5c06skins\u76ee\u5f55\u590d\u5236\u5230public/tinymce\u91cc\u9762")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-vue"},'<template>\n  <div class="tinymce-editor">\n    <editor\n      v-model="myValue"\n      :init="init"\n      :disabled="disabled"\n      @onClick="onClick"\n    >\n    </editor>\n    <div class="editor-content" v-html="myValue" />\n  </div>\n</template>\n<script>\nimport tinymce from "tinymce/tinymce";\nimport Editor from "@tinymce/tinymce-vue";\nimport "tinymce/themes/silver";\nimport "tinymce/icons/default"; //\u56fe\u6807\n// \u7f16\u8f91\u5668\u63d2\u4ef6plugins\n// \u66f4\u591a\u63d2\u4ef6\u53c2\u8003\uff1ahttps://www.tiny.cloud/docs/plugins/\nimport "tinymce/plugins/image"; // \u63d2\u5165\u4e0a\u4f20\u56fe\u7247\u63d2\u4ef6\n//import "tinymce/plugins/media"; // \u63d2\u5165\u89c6\u9891\u63d2\u4ef6\nimport "tinymce/plugins/table"; // \u63d2\u5165\u8868\u683c\u63d2\u4ef6\nimport "tinymce/plugins/lists"; // \u5217\u8868\u63d2\u4ef6\nimport "tinymce/plugins/wordcount"; // \u5b57\u6570\u7edf\u8ba1\u63d2\u4ef6\n\nimport "tinymce/plugins/code"; //\u6e90\u4ee3\u7801\nimport "tinymce/plugins/preview"; //\u9884\u89c8\nimport "tinymce/plugins/indent2em"; //\u9996\u884c\u7f29\u8fdb\nimport "tinymce/plugins/link"; //\u8fde\u63a5\n\nexport default {\n  components: {\n    Editor,\n  },\n  props: {\n    value: {\n      type: String,\n      default: "",\n    },\n    // \u57fa\u672c\u8def\u5f84\uff0c\u9ed8\u8ba4\u4e3a\u7a7a\u6839\u76ee\u5f55\uff0c\u5982\u679c\u4f60\u7684\u9879\u76ee\u53d1\u5e03\u540e\u7684\u5730\u5740\u4e3a\u76ee\u5f55\u5f62\u5f0f\uff0c\n    // \u5373abc.com/tinymce\uff0cbaseUrl\u9700\u8981\u914d\u7f6e\u6210tinymce\uff0c\u4e0d\u7136\u53d1\u5e03\u540e\u8d44\u6e90\u4f1a\u627e\u4e0d\u5230\n    baseUrl: {\n      type: String,\n      default: "",\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    height: {\n      type: [Number, String],\n      required: false,\n      default: 360,\n    },\n    plugins: {\n      type: [String, Array],\n      default: "lists image table wordcount code preview indent2em link ",\n    },\n    toolbar: {\n      type: [String, Array],\n      default() {\n        return [\n          "undo redo | bold italic forecolor backcolor | indent2em lineheight | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent ",\n          "formatselect | fontselect | fontsizeselect | lists link image table | removeformat | preview | code",\n        ];\n      },\n    },\n  },\n  computed: {\n    containerWidth() {\n      const width = this.width;\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) {\n        // matches `100`, `\'100\'`\n        return `${width}px`;\n      }\n      return width;\n    },\n  },\n  data() {\n    return {\n      init: {\n        language_url: `${this.baseUrl}/tinymce/langs/zh_CN.js`,\n        language: "zh_CN",\n        skin_url: `${this.baseUrl}/tinymce/skins/ui/oxide`,\n        content_css: `${this.baseUrl}/tinymce/skins/content/default/content.css`,\n        forced_root_block: "",\n        // lineheight_formats:\n        //   "8pt 9pt 10pt 11pt 12pt 14pt 16pt 18pt 20pt 22pt 24pt 26pt 36pt",\n        fontsize_formats: "12px 14px 16px 18px 24px 36px 48px 56px 72px",\n        font_formats:\n          "\u5fae\u8f6f\u96c5\u9ed1=\'\u5fae\u8f6f\u96c5\u9ed1\';\u5b8b\u4f53=\'\u5b8b\u4f53\';\u9ed1\u4f53=\'\u9ed1\u4f53\';\u4eff\u5b8b=\'\u4eff\u5b8b\';\u6977\u4f53=\'\u6977\u4f53\';\u96b6\u4e66=\'\u96b6\u4e66\';\u5e7c\u5706=\'\u5e7c\u5706\';Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings",\n        // skin_url: `${this.baseUrl}/tinymce/skins/ui/oxide-dark`, // \u6697\u8272\u7cfb\n        // content_css: `${this.baseUrl}/tinymce/skins/content/dark/content.css`, // \u6697\u8272\u7cfb\n        height: 300,\n        plugins: this.plugins,\n        toolbar: this.toolbar,\n        link_title: false,\n        image_description: false,\n        branding: false,\n        menubar: false,\n        // \u6b64\u5904\u4e3a\u56fe\u7247\u4e0a\u4f20\u5904\u7406\u51fd\u6570\uff0c\u8fd9\u4e2a\u76f4\u63a5\u7528\u4e86base64\u7684\u56fe\u7247\u5f62\u5f0f\u4e0a\u4f20\u56fe\u7247\uff0c\n        // \u5982\u9700ajax\u4e0a\u4f20\u53ef\u53c2\u8003https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_handler\n        // images_upload_handler: (blobInfo, success, failure) => {\n        //   const img = "data:image/jpeg;base64," + blobInfo.base64();\n        //   success(img);\n        // },\n      },\n      myValue: this.value,\n    };\n  },\n  mounted() {\n    tinymce.init({});\n  },\n  methods: {\n    // \u6dfb\u52a0\u76f8\u5173\u7684\u4e8b\u4ef6\uff0c\u53ef\u7528\u7684\u4e8b\u4ef6\u53c2\u7167\u6587\u6863=> https://github.com/tinymce/tinymce-vue => All available events\n    // \u9700\u8981\u4ec0\u4e48\u4e8b\u4ef6\u53ef\u4ee5\u81ea\u5df1\u589e\u52a0\n    onClick(e) {\n      this.$emit("onClick", e, tinymce);\n    },\n    // \u53ef\u4ee5\u6dfb\u52a0\u4e00\u4e9b\u81ea\u5df1\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\uff0c\u5982\u6e05\u7a7a\u5185\u5bb9\n    clear() {\n      this.myValue = "";\n    },\n  },\n  watch: {\n    value(newValue) {\n      this.myValue = newValue;\n    },\n    myValue(newValue) {\n      this.$emit("input", newValue);\n    },\n  },\n};\n<\/script>\n<style scoped>\n</style>\n')))}u.isMDXComponent=!0},223:function(e,n,t){"use strict";t.d(n,"a",(function(){return m})),t.d(n,"b",(function(){return d}));var i=t(0),a=t.n(i);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)t=r[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=a.a.createContext({}),u=function(e){var n=a.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},m=function(e){var n=u(e.components);return a.a.createElement(s.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},b=a.a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=u(t),b=i,d=m["".concat(c,".").concat(b)]||m[b]||p[b]||r;return t?a.a.createElement(d,l(l({ref:n},s),{},{components:t})):a.a.createElement(d,l({ref:n},s))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,c=new Array(r);c[0]=b;var l={};for(var o in n)hasOwnProperty.call(n,o)&&(l[o]=n[o]);l.originalType=e,l.mdxType="string"==typeof e?e:i,c[1]=l;for(var s=2;s<r;s++)c[s]=t[s];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);